<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jquery(2일차) - form post 전송 + (backend)배열로 받기</title>
    <script src="./js/jquery.js"></script>
    <script src="./js/jquery-ui.js?v=7"></script>
    <link rel="stylesheet" type="text/css" href="./js/jquery-ui.css">
    <script>
    	$(function() {
			$("#okbtn").click(function() {
				//is를 사용하여 radio, checkbox, (true,false)를 확인함
				var $ck = $("#like1").is(":checked");
				var $ea = $(".ck").length;	//공통 class명으로 개수 파악
				//console.log($ea);
				var $w = 1;
				var $ct = 0;
				while($w <= $ea) {
					var $nm = "#like"+$w;
					//$($nm).attr("checked",true);	//전체 체크박스에 적용
					//javascript setAttributem getAttribute = attr
					var $ck = $("#like1").is(":checked");
					if($("#like"+$w).is(":checked")==true) {
						$ct++;
					}
					$w++;
				}
				if($ct==0) {
					alert("최소 하나 이상을 선택해야 합니다.");
				}
				else {
					f.method = "POST";
					f.action = "test3.do";
					f.enctype= "application/x-www-form-urlencoded";
					f.submit();
				}
			});
			
			//name 값이 같을 경우
			
			$("#okbtn2").click(function() {
				var $ea = $(".ck").length;
				var $w = 0;
				var $ct = 0;
				while($w < $ea) {
					//jquery에서 abc.eq(0)는, javascript에서 abc[0]과 같다
					//console.log($(".ck").eq($w).is(":checked"));
					if($(".ck").eq($w).is(":checked")==true) {
						$ct++;
					}
					$w++;
				}
				if($ct==0) {
					alert("최소 하나 이상을 선택해야 합니다.");
				}
				else {
					f.method = "POST";
					f.action = "test3.do";
					f.enctype= "application/x-www-form-urlencoded";
					f.submit();
				}
			});
		});
    </script>
</head>
<body>
	<!-- 
	<form name="f" id="f">
		<p>좋아하는 운동 경기는 무엇입니까?</p>
		야구<input type="checkbox" name="like1" id="like1" class="ck" value="야구"><br>
		축구<input type="checkbox" name="like2" id="like2" class="ck" value="축구"><br>
		농구<input type="checkbox" name="like3" id="like3" class="ck" value="농구"><br>
		배구<input type="checkbox" name="like4" id="like4" class="ck" value="배구"><br>
		탁구<input type="checkbox" name="like5" id="like5" class="ck" value="탁구"><br>
		<input type="button" value="확인" id="okbtn">
	</form>
	 -->
	 <form name="f" id="f">
		<p>좋아하는 운동 경기는 무엇입니까?</p>
		야구<input type="checkbox" name="like" id="like1" class="ck" value="야구"><br>
		축구<input type="checkbox" name="like" id="like2" class="ck" value="축구"><br>
		농구<input type="checkbox" name="like" id="like3" class="ck" value="농구"><br>
		배구<input type="checkbox" name="like" id="like4" class="ck" value="배구"><br>
		탁구<input type="checkbox" name="like" id="like5" class="ck" value="탁구"><br>
		<input type="button" value="확인" id="okbtn2">
	</form>
</body>
</html>